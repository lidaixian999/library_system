# å›¾ä¹¦ç®¡ç†ç³»ç»ŸæŠ€æœ¯æ–‡æ¡£
æ¼”ç¤ºè§†é¢‘å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ.mp4
é“¾æ¥: https://pan.baidu.com/s/1gVsSftBG0hpznk9BfQ4JmA?pwd=nx3k

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº Vue.js + Node.js çš„å…¨æ ˆå›¾ä¹¦ç®¡ç†ç³»ç»Ÿï¼Œæ—¨åœ¨ä¸ºå­¦æ ¡å›¾ä¹¦é¦†æä¾›å®Œæ•´çš„å›¾ä¹¦å€Ÿé˜…ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚ç³»ç»Ÿåˆ†ä¸ºç”¨æˆ·ç«¯å’Œç®¡ç†å‘˜ç«¯ï¼Œæ”¯æŒå›¾ä¹¦æŸ¥è¯¢ã€å€Ÿé˜…ã€å½’è¿˜ã€ç”¨æˆ·ç®¡ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

### ğŸ¯ é¡¹ç›®ç›®æ ‡
- å­¦ä¹ å‰åç«¯åˆ†ç¦»å¼€å‘æ¨¡å¼
- æŒæ¡ç°ä»£Webå¼€å‘æŠ€æœ¯æ ˆ
- å®ç°å®Œæ•´çš„CRUDæ“ä½œ
- æ„å»ºç”¨æˆ·å‹å¥½çš„ç•Œé¢

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ (Vue3)    â”‚â”€â”€â”€â”€â”‚  åç«¯ (Node.js) â”‚â”€â”€â”€â”€â”‚  æ•°æ®åº“ (MySQL) â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ Element Plus  â”‚    â”‚ â€¢ Express.js   â”‚    â”‚ â€¢ ç”¨æˆ·è¡¨        â”‚
â”‚ â€¢ Vue Router    â”‚    â”‚ â€¢ MySQL2        â”‚    â”‚ â€¢ å›¾ä¹¦è¡¨        â”‚
â”‚ â€¢ Axios         â”‚    â”‚ â€¢ bcrypt        â”‚    â”‚ â€¢ å€Ÿé˜…è®°å½•è¡¨    â”‚
â”‚ â€¢ Vite          â”‚    â”‚ â€¢ CORS          â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Vue.js | 3.5.13 | å‰ç«¯æ¡†æ¶ |
| Element Plus | 2.9.10 | UIç»„ä»¶åº“ |
| Vue Router | 4.5.1 | è·¯ç”±ç®¡ç† |
| Axios | 1.9.0 | HTTPå®¢æˆ·ç«¯ |
| Vite | 6.2.4 | æ„å»ºå·¥å…· |
| date-fns | 4.1.0 | æ—¥æœŸå¤„ç† |

### åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Node.js | - | è¿è¡Œç¯å¢ƒ |
| Express.js | 5.1.0 | Webæ¡†æ¶ |
| MySQL2 | 3.14.1 | æ•°æ®åº“é©±åŠ¨ |
| bcrypt | 6.0.0 | å¯†ç åŠ å¯† |
| CORS | 2.8.5 | è·¨åŸŸå¤„ç† |

### æ•°æ®åº“

| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| MySQL | å…³ç³»å‹æ•°æ®åº“ |

## ğŸ“ é¡¹ç›®ç»“æ„

```
library_system/
â”œâ”€â”€ backend/                    # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ routers/               # è·¯ç”±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ books.js          # å›¾ä¹¦ç›¸å…³è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ users.js          # ç”¨æˆ·ç›¸å…³è·¯ç”±
â”‚   â”‚   â””â”€â”€ borrow.js         # å€Ÿé˜…ç›¸å…³è·¯ç”±
â”‚   â”œâ”€â”€ servicers/            # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ Ai_services_free.js
â”‚   â”‚   â””â”€â”€ Aiservices.js
â”‚   â”œâ”€â”€ server.js             # æœåŠ¡å™¨å…¥å£
â”‚   â”œâ”€â”€ db.js                 # æ•°æ®åº“é…ç½®
â”‚   â””â”€â”€ package.json          # ä¾èµ–é…ç½®
â”œâ”€â”€ frontend/                  # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/        # ç®¡ç†å‘˜é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ user/         # ç”¨æˆ·é¡µé¢
â”‚   â”‚   â”œâ”€â”€ components/       # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ router/           # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ App.vue           # æ ¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.js           # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ public/               # é™æ€èµ„æº
â”‚   â”œâ”€â”€ package.json          # ä¾èµ–é…ç½®
â”‚   â””â”€â”€ vite.config.js        # æ„å»ºé…ç½®
â”œâ”€â”€ dump-1-202505181411.sql   # æ•°æ®åº“å¤‡ä»½
â””â”€â”€ README.md                 # é¡¹ç›®è¯´æ˜
```

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### ç”¨æˆ·è¡¨ (users)

| å­—æ®µ | ç±»å‹ | è¯´æ˜ | çº¦æŸ |
|------|------|------|------|
| id | INT | ç”¨æˆ·ID | ä¸»é”®ï¼Œè‡ªå¢ |
| username | VARCHAR(50) | ç”¨æˆ·å | å”¯ä¸€ï¼Œéç©º |
| password | VARCHAR(255) | å¯†ç (åŠ å¯†) | éç©º |
| email | VARCHAR(100) | é‚®ç®± | å”¯ä¸€ |
| role | ENUM | è§’è‰² | 'user', 'admin' |
| created_at | TIMESTAMP | åˆ›å»ºæ—¶é—´ | é»˜è®¤å½“å‰æ—¶é—´ |

### å›¾ä¹¦è¡¨ (books)

| å­—æ®µ | ç±»å‹ | è¯´æ˜ | çº¦æŸ |
|------|------|------|------|
| id | INT | å›¾ä¹¦ID | ä¸»é”®ï¼Œè‡ªå¢ |
| title | VARCHAR(200) | ä¹¦å | éç©º |
| author | VARCHAR(100) | ä½œè€… | éç©º |
| isbn | VARCHAR(20) | ISBN | å”¯ä¸€ |
| category | VARCHAR(50) | åˆ†ç±» | - |
| total_copies | INT | æ€»æ•°é‡ | é»˜è®¤1 |
| available_copies | INT | å¯å€Ÿæ•°é‡ | é»˜è®¤1 |
| created_at | TIMESTAMP | åˆ›å»ºæ—¶é—´ | é»˜è®¤å½“å‰æ—¶é—´ |

### å€Ÿé˜…è®°å½•è¡¨ (borrow)

| å­—æ®µ | ç±»å‹ | è¯´æ˜ | çº¦æŸ |
|------|------|------|------|
| id | INT | è®°å½•ID | ä¸»é”®ï¼Œè‡ªå¢ |
| user_id | INT | ç”¨æˆ·ID | å¤–é”® |
| book_id | INT | å›¾ä¹¦ID | å¤–é”® |
| borrow_date | TIMESTAMP | å€Ÿé˜…æ—¶é—´ | é»˜è®¤å½“å‰æ—¶é—´ |
| return_date | TIMESTAMP | å½’è¿˜æ—¶é—´ | å¯ç©º |
| due_date | TIMESTAMP | åº”è¿˜æ—¶é—´ | éç©º |
| status | ENUM | çŠ¶æ€ | 'borrowed', 'returned' |

## ğŸ”Œ API æ¥å£æ–‡æ¡£

### ç”¨æˆ·ç›¸å…³æ¥å£

#### ç”¨æˆ·æ³¨å†Œ
```http
POST /api/users/register
Content-Type: application/json

{
  "username": "string",
  "password": "string",
  "email": "string"
}
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "message": "Registered successfully"
}
```

#### ç”¨æˆ·ç™»å½•
```http
POST /api/users/login
Content-Type: application/json

{
  "username": "string",
  "password": "string"
}
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "message": "Login successful",
  "user": {
    "id": 1,
    "username": "testuser",
    "role": "user"
  }
}
```

#### ä¿®æ”¹å¯†ç 
```http
POST /api/users/change-password
Content-Type: application/json

{
  "username": "string",
  "newPassword": "string"
}
```

### å›¾ä¹¦ç›¸å…³æ¥å£

#### è·å–å›¾ä¹¦åˆ—è¡¨
```http
GET /api/books
```

#### æ·»åŠ å›¾ä¹¦
```http
POST /api/books
Content-Type: application/json

{
  "title": "string",
  "author": "string",
  "isbn": "string",
  "category": "string",
  "total_copies": "number"
}
```

#### æ›´æ–°å›¾ä¹¦ä¿¡æ¯
```http
PUT /api/books/:id
Content-Type: application/json

{
  "title": "string",
  "author": "string",
  "category": "string"
}
```

#### åˆ é™¤å›¾ä¹¦
```http
DELETE /api/books/:id
```

### å€Ÿé˜…ç›¸å…³æ¥å£

#### å€Ÿä¹¦
```http
POST /api/borrow/borrow
Content-Type: application/json

{
  "user_id": "number",
  "book_id": "number"
}
```

#### è¿˜ä¹¦
```http
POST /api/borrow/return
Content-Type: application/json

{
  "user_id": "number",
  "book_id": "number"
}
```

#### è·å–å€Ÿé˜…è®°å½•
```http
GET /api/borrow/records?user_id=1
```

## ğŸ¨ å‰ç«¯æ¶æ„è®¾è®¡

### è·¯ç”±è®¾è®¡

```javascript
// è·¯ç”±é…ç½®ç¤ºä¾‹
const routes = [
  { path: '/', redirect: '/login' },
  { path: '/login', component: Login },
  { path: '/register', component: Register },
  
  // ç®¡ç†å‘˜è·¯ç”±
  { path: '/home_controller', component: Home_controller },
  { path: '/library_controller', component: Library_controller },
  { path: '/resources_admin', component: Resources_admin },
  
  // ç”¨æˆ·è·¯ç”±
  { path: '/home_user', component: Home_user },
  { path: '/library_user', component: Library_user },
  { path: '/borrow_user', component: Borrow_user }
]
```

### ç»„ä»¶ç»“æ„

```
components/
â”œâ”€â”€ common/              # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ Header.vue      # å¤´éƒ¨å¯¼èˆª
â”‚   â”œâ”€â”€ Footer.vue      # åº•éƒ¨ä¿¡æ¯
â”‚   â””â”€â”€ Loading.vue     # åŠ è½½ç»„ä»¶
â”œâ”€â”€ admin/              # ç®¡ç†å‘˜ç»„ä»¶
â”‚   â”œâ”€â”€ BookManager.vue # å›¾ä¹¦ç®¡ç†
â”‚   â”œâ”€â”€ UserManager.vue # ç”¨æˆ·ç®¡ç†
â”‚   â””â”€â”€ Dashboard.vue   # ä»ªè¡¨ç›˜
â””â”€â”€ user/               # ç”¨æˆ·ç»„ä»¶
    â”œâ”€â”€ BookList.vue    # å›¾ä¹¦åˆ—è¡¨
    â”œâ”€â”€ BorrowHistory.vue # å€Ÿé˜…å†å²
    â””â”€â”€ Profile.vue     # ä¸ªäººä¿¡æ¯
```

### çŠ¶æ€ç®¡ç†

é¡¹ç›®ä½¿ç”¨ Vue 3 çš„ Composition API è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼Œä¸»è¦åŒ…æ‹¬ï¼š

- ç”¨æˆ·è®¤è¯çŠ¶æ€
- å›¾ä¹¦åˆ—è¡¨æ•°æ®
- å€Ÿé˜…è®°å½•æ•°æ®
- å…¨å±€åŠ è½½çŠ¶æ€

## ğŸ”’ å®‰å…¨è®¾è®¡

### å¯†ç å®‰å…¨
- ä½¿ç”¨ bcrypt è¿›è¡Œå¯†ç å“ˆå¸Œ
- åŠ ç›å¼ºåº¦è®¾ç½®ä¸º 10
- å‰ç«¯ä¸å­˜å‚¨æ˜æ–‡å¯†ç 

### æ•°æ®åº“å®‰å…¨
- ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢é˜²æ­¢ SQL æ³¨å…¥
- äº‹åŠ¡å¤„ç†ç¡®ä¿æ•°æ®ä¸€è‡´æ€§
- æ•°æ®åº“è¿æ¥æ± ç®¡ç†

### è·¨åŸŸå¤„ç†
- é…ç½® CORS ä¸­é—´ä»¶
- é™åˆ¶å…è®¸çš„è¯·æ±‚æ¥æº

## ğŸš€ éƒ¨ç½²æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- MySQL >= 8.0
- npm >= 8.0.0

### åç«¯éƒ¨ç½²

1. **å®‰è£…ä¾èµ–**
```bash
cd backend
npm install
```

2. **é…ç½®æ•°æ®åº“**
```javascript
// db.js
const pool = mysql.createPool({
  host: 'localhost',
  user: 'your_username',
  password: 'your_password',
  database: 'library_system'
});
```

3. **å¯¼å…¥æ•°æ®åº“**
```bash
mysql -u root -p library_system < dump-1-202505181411.sql
```

4. **å¯åŠ¨æœåŠ¡**
```bash
node server.js
```

### å‰ç«¯éƒ¨ç½²

1. **å®‰è£…ä¾èµ–**
```bash
cd frontend
npm install
```

2. **å¼€å‘ç¯å¢ƒ**
```bash
npm run dev
```

3. **ç”Ÿäº§æ„å»º**
```bash
npm run build
```

4. **é¢„è§ˆæ„å»ºç»“æœ**
```bash
npm run preview
```

### Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

```dockerfile
# Dockerfile.backend
FROM node:16-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
EXPOSE 8989
CMD ["node", "server.js"]
```

```dockerfile
# Dockerfile.frontend
FROM node:16-alpine as build
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=build /app/dist /usr/share/nginx/html
EXPOSE 80
```

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### åç«¯æµ‹è¯•
- å•å…ƒæµ‹è¯•ï¼šä½¿ç”¨ Jest æµ‹è¯•ä¸šåŠ¡é€»è¾‘
- é›†æˆæµ‹è¯•ï¼šæµ‹è¯• API æ¥å£
- æ•°æ®åº“æµ‹è¯•ï¼šæµ‹è¯•æ•°æ®æ“ä½œ

### å‰ç«¯æµ‹è¯•
- ç»„ä»¶æµ‹è¯•ï¼šä½¿ç”¨ Vue Test Utils
- E2E æµ‹è¯•ï¼šä½¿ç”¨ Cypress
- ç”¨æˆ·äº¤äº’æµ‹è¯•

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### å‰ç«¯ä¼˜åŒ–
- è·¯ç”±æ‡’åŠ è½½
- ç»„ä»¶æŒ‰éœ€å¼•å…¥
- å›¾ç‰‡æ‡’åŠ è½½
- ä»£ç åˆ†å‰²

### åç«¯ä¼˜åŒ–
- æ•°æ®åº“è¿æ¥æ± 
- æŸ¥è¯¢ä¼˜åŒ–
- ç¼“å­˜ç­–ç•¥
- æ¥å£é™æµ

## ğŸ› å¸¸è§é—®é¢˜

### æ•°æ®åº“è¿æ¥é—®é¢˜
```bash
# æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€
sudo systemctl status mysql

# é‡å¯MySQLæœåŠ¡
sudo systemctl restart mysql
```

### è·¨åŸŸé—®é¢˜
ç¡®ä¿åç«¯æ­£ç¡®é…ç½® CORSï¼š
```javascript
app.use(cors({
  origin: 'http://localhost:5173',
  credentials: true
}));
```

### ç«¯å£å†²çª
ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£å·ï¼š
- åç«¯ï¼šserver.js ä¸­çš„ port å˜é‡
- å‰ç«¯ï¼švite.config.js ä¸­çš„ server.port

## ğŸ“š å­¦ä¹ èµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Vue.js å®˜æ–¹æ–‡æ¡£](https://vuejs.org/)
- [Element Plus æ–‡æ¡£](https://element-plus.org/)
- [Express.js æ–‡æ¡£](https://expressjs.com/)
- [MySQL æ–‡æ¡£](https://dev.mysql.com/doc/)

### æ¨èæ•™ç¨‹
- Vue 3 + Vite å¿«é€Ÿä¸Šæ‰‹
- Node.js + Express åç«¯å¼€å‘
- MySQL æ•°æ®åº“è®¾è®¡
- å‰åç«¯åˆ†ç¦»é¡¹ç›®å®æˆ˜

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ç»´æŠ¤è€…ï¼š[æ‚¨çš„å§“å]
- é‚®ç®±ï¼š[æ‚¨çš„é‚®ç®±]
- é¡¹ç›®åœ°å€ï¼š[GitHubä»“åº“åœ°å€]

---

**æ³¨æ„ï¼š** æœ¬é¡¹ç›®ä»¥å­¦ä¹ å‰åç«¯å¼€å‘ä¸ºä¸»è¦ç›®çš„ï¼ŒæŒç»­æ›´æ–°ä¸­ï¼Œå¦‚æœ‰ç¼ºé™·å¤šå¤šåŒ…æ¶µã€‚

*æœ€åæ›´æ–°æ—¶é—´ï¼š2024å¹´12æœˆ*
